{% extends 'base.html.twig' %}

{% block title %}Debate{% endblock %}

{% block body %}
    <h1>Debate</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ debate.id }}</td>
            </tr>
            <tr>
                <th>NameDebate</th>
                <td>{{ debate.nameDebate }}</td>
            </tr>
            <tr>
                <th>DescriptionDebate</th>
                <td>{{ debate.descriptionDebate }}</td>
            </tr>
            <tr>
                <th>IsValid</th>
                <td>{{ debate.isValid ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>CreationDate</th>
                <td>{{ debate.creationDate ? debate.creationDate|date('Y-m-d') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <div class="d-flex justify-content-around">
        {% for camp in debate.camps %}
            <div>
                <h2>{{ camp.nameCamp }}</h2>
                <div>
                    {% for argument in arguments[camp.id] %}
                        {% set isVoted = argument.id in argumentIdVoted %}
                        {% include 'argument/show.html.twig' with {'argument' : argument, 'isVoted': isVoted} %}
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>

    <a href="{{ path('app_debate_index') }}">back to list</a>

    <a href="{{ path('app_debate_edit', {'id': debate.id}) }}">edit</a>
    {{ include('debate/_delete_form.html.twig') }}
{% endblock %}
